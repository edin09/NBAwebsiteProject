<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Trivia | NBA</title>
      <link rel="stylesheet" href="style.css"/>
      <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
      <link rel="icon" type="image/png" href="icons/NBA.png">
      <meta property="og:title" content="NBA Sign Up / Login">
      <meta property="og:description" content="Join the NBA community! Sign up or log in to follow your favorite teams and players.">
      <meta property="og:image" content="trivia_pics/nba.avif">
      <meta property="og:image:alt" content="NBA Sign Up and Login Page">
      <meta property="og:type" content="website">
      <meta property="og:url" content="https://tvoja-stranica.com">
      <meta property="og:site_name" content="NBA Fan Platform">
      <!-- Twitter/X specifični tagovi (opcionalno za bolji prikaz) -->
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:image" content="trivia_pics/nba.avif">
      <meta name="description" content="Join the NBA Fan Platform! Sign up or log in to follow your favorite NBA teams and players.">
   </head>
   <header>
      <div class="header-container">
         <div class="hamburger">
            <div></div>
            <div></div>
            <div></div>
         </div>
         <div class="logo-container">
            <img src="icons/nba_logo.svg" alt="logoIcon" class="logo">
         </div>
         <nav id="main-nav"> 
            <a href="index.html" class="navigation">Home</a>
            <a href="players.html" class="navigation">Players</a>
            <a href="teams.html" class="navigation">Teams</a>
            <a href="statistics.html" class="navigation">Stats</a>
            <a href="news.html" class="navigation">News</a>
            <a href="NBA_fantasy.html" class="navigation">NBA Fantasy</a>
            <a href="about_us.html" class="navigation">About Us</a>
         </nav>
         <div class="auth-links">
            <a href="leaguePass.html" class="auth-link league-pass">League Pass</a>
            <a href="sign_in.html" class="auth-link sign-in">Sign In</a>
         </div>
      </div>
   </header>
   <title>NBA Knowledge Quiz</title>
   <br><br><br>
   <style>
      body {
      background-image: url('images/players.jpeg'); /* Putanja do vaše slike */
      background-size: cover; /* Slika pokriva ceo prostor */
      background-position: center; /* Centrira sliku */
      background-repeat: no-repeat; /* Sprečava ponavljanje slike */
      min-height: 100vh; /* Osigurava da pozadina pokriva celu visinu stranice */
      }
      .quiz-container {
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      background: #111;
      color: #fff;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      text-align: center;
      font-family: Arial, sans-serif;
      }
      .question {
      font-size: 20px;
      margin-bottom: 15px;
      }
      .options button {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      background: #222;
      color: #fff;
      border: 2px solid #444;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
      }
      .options button:hover {
      background: #333;
      }
      .options button.correct {
      background: #2e7d32;
      border-color: #43a047;
      }
      .options button.wrong {
      background: #c62828;
      border-color: #e53935;
      }
      .timer {
      margin: 15px 0;
      font-size: 18px;
      font-weight: bold;
      color: #fbc02d;
      }
      .image-area {
      margin: 15px 0;
      }
      .image-area img {
      max-width: 100%;
      border-radius: 10px;
      }
      .result {
      font-size: 22px;
      margin-top: 20px;
      font-weight: bold;
      color: white;
      }
      .start-btn, .restart-btn {
      padding: 12px 20px;
      margin-top: 20px;
      background: #1976d2;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
      }
      .start-btn:hover, .restart-btn:hover {
      background: #1565c0;
      }
      .answers-list {
      text-align: left;
      margin-top: 20px;
      background: #222;
      padding: 15px;
      border-radius: 10px;
      }
      .answers-list p {
      margin: 6px 0;
      }
   </style>
   </head>
   <body>
      <div class="quiz-container">
         <div id="intro">
            <h2>NBA Knowledge Quiz</h2>
            <button class="start-btn" onclick="startQuiz()">Start Quiz</button>
         </div>
         <div id="quiz" style="display:none;">
            <div class="timer">Time left: <span id="time">10</span>s</div>
            <div class="image-area">
               <img id="playerImage" src="placeholder.jpg" alt="NBA Player">
            </div>
            <div class="question" id="question">Question text</div>
            <div class="options" id="options"></div>
            <div class="result" id="result"></div>
         </div>
         <div id="end" style="display:none;">
            <h2>Quiz Finished!</h2>
            <div id="finalScore"></div>
            <div id="allAnswers" class="answers-list"></div>
            <button class="restart-btn" onclick="restartQuiz()">Restart Quiz</button>
         </div>
      </div>
      <script>
         const quizData = [
           {
             question: "Who is known as 'The King' in the NBA?",
             options: ["Kobe Bryant", "Michael Jordan", "LeBron James", "Kevin Durant"],
             answer: 2,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/lebron.png"
           },
           {
             question: "Which team has the most NBA championships?",
             options: ["Lakers", "Celtics", "Warriors", "Bulls"],
             answer: 1,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/celtics.avif"
           },
           {
             question: "Who holds the record for the most points scored in a single NBA game?",
             options: ["Wilt Chamberlain", "Kobe Bryant", "Michael Jordan", "Devin Booker"],
             answer: 0,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/chamberlain.webp"
           },
           {
             question: "Which player won the NBA MVP award for the 2023-24 season?",
             options: ["Nikola Jokić", "Giannis Antetokounmpo", "Luka Dončić", "Jayson Tatum"],
             answer: 0,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/jokic.jpg"
           },
           {
             question: "Which team drafted Stephen Curry in 2009?",
             options: ["San Antonio Spurs", "Golden State Warriors", "New York Knicks", "Chicago Bulls"],
             answer: 1,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/curry.jpg"
           },
           {
             question: "What is the name of the NBA's championship trophy?",
             options: ["O'Brien Trophy", "Russell Trophy", "Jordan Trophy", "Stern Trophy"],
             answer: 0,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/championTrophy.jpeg"
           },
           {
             question: "Which player is known for the 'Skyhook' shot?",
             options: ["Shaquille O'Neal", "Kareem Abdul-Jabbar", "Tim Duncan", "Hakeem Olajuwon"],
             answer: 1,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/kareem.webp"
           },
           {
             question: "Which city is home to the NBA team 'Raptors'?",
             options: ["Miami", "Toronto", "Chicago", "Dallas"],
             answer: 1,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/toronto.avif"
           },
           {
             question: "Who was the first non-American player to win the NBA MVP award?",
             options: ["Dirk Nowitzki", "Steve Nash", "Giannis Antetokounmpo", "Hakeem Olajuwon"],
             answer: 3,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/hakeem.webp"
           },
           {
             question: "Which team won the NBA Finals in 2020?",
             options: ["Boston Celtics", "Dallas Mavericks", "Los Angeles Lakers", "Miami Heat"],
             answer: 2,
             defaultImage: "/trivia_pics/ball.jpg",
             image: "trivia_pics/lakers.jpg"
           }
         ];
         
         let currentQuestion = 0;
         let score = 0;
         let timer;
         let timeLeft = 10;
         
         const quizEl = document.getElementById("quiz");
         const introEl = document.getElementById("intro");
         const endEl = document.getElementById("end");
         const questionEl = document.getElementById("question");
         const optionsEl = document.getElementById("options");
         const resultEl = document.getElementById("result");
         const playerImage = document.getElementById("playerImage");
         const timeEl = document.getElementById("time");
         const finalScoreEl = document.getElementById("finalScore");
         const allAnswersEl = document.getElementById("allAnswers");
         
         function startQuiz() {
           introEl.style.display = "none";
           endEl.style.display = "none";
           quizEl.style.display = "block";
           currentQuestion = 0;
           score = 0;
           showQuestion();
         }
         
         function showQuestion() {
           // Ensure any existing timer is cleared before starting a new one
           clearInterval(timer);
           timeLeft = 10;
           timeEl.textContent = timeLeft;
         
           const q = quizData[currentQuestion];
           questionEl.textContent = q.question;
           playerImage.src = q.defaultImage; // Show default image during question
           resultEl.textContent = "";
           optionsEl.innerHTML = "";
         
           q.options.forEach((opt, i) => {
             const btn = document.createElement("button");
             btn.textContent = opt;
             btn.onclick = () => checkAnswer(i);
             optionsEl.appendChild(btn);
           });
         
           startTimer(); // Start timer after setting up the question
         }
         
         function checkAnswer(selected) {
           clearInterval(timer); // Stop the timer when an answer is selected
           const q = quizData[currentQuestion];
           const buttons = optionsEl.querySelectorAll("button");
           buttons.forEach((btn, i) => {
             btn.disabled = true;
             if (i === q.answer) btn.classList.add("correct");
             if (i === selected && selected !== q.answer) btn.classList.add("wrong");
           });
         
           if (selected === q.answer) {
             score++;
             resultEl.textContent = "Correct!";
           } else {
             resultEl.textContent = "Wrong!";
           }
         
           playerImage.src = q.image; // Show player image after answering
           setTimeout(nextQuestion, 2000);
         }
         
         function startTimer() {
           // Clear any existing timer to prevent overlap
           clearInterval(timer);
           timer = setInterval(() => {
             timeLeft--;
             timeEl.textContent = timeLeft;
             if (timeLeft <= 0) {
               clearInterval(timer);
               checkAnswer(-1); // Treat timeout as a wrong answer
             }
           }, 1000);
         }
         
         function nextQuestion() {
           currentQuestion++;
           if (currentQuestion < quizData.length) {
             showQuestion();
           } else {
             endQuiz();
           }
         }
         
         function endQuiz() {
           quizEl.style.display = "none";
           endEl.style.display = "block";
         
           finalScoreEl.textContent = `You got ${score} out of ${quizData.length} correct!`;
         
           allAnswersEl.innerHTML = "<h3>Correct Answers:</h3>";
           quizData.forEach((q, idx) => {
             allAnswersEl.innerHTML += `<p>${idx + 1}. ${q.question} <br><strong>${q.options[q.answer]}</strong></p>`;
           });
         }
         
         function restartQuiz() {
           introEl.style.display = "block";
           endEl.style.display = "none";
           score = 0;
           currentQuestion = 0;
           clearInterval(timer); // Ensure timer is cleared on restart
         }
         
         document.addEventListener("DOMContentLoaded", () => {
           const authLink = document.querySelector(".auth-link.sign-in");
         
           if (localStorage.getItem("isLoggedIn") === "true") {
             authLink.href = "profile.html";
             authLink.classList.remove("sign-in");
             authLink.classList.add("profile");
             authLink.textContent = ""; // Clear existing text
         
             const profileContainer = document.createElement("div");
             profileContainer.className = "profile-container"; // Class for CSS styling
         
             const profilePic = document.createElement("img");
             profilePic.src = localStorage.getItem("profilePic") || "https://via.placeholder.com/30?text=User";
             profilePic.alt = "Profile picture";
             profilePic.className = "profile-pic"; // Class for CSS styling
         
             const usernameSpan = document.createElement("span");
             usernameSpan.textContent = localStorage.getItem("username") || "User";
             usernameSpan.className = "username"; // Class for CSS styling
         
             profileContainer.appendChild(profilePic);
             profileContainer.appendChild(usernameSpan);
             authLink.appendChild(profileContainer);
           } else {
             authLink.textContent = "Sign In";
           }
         });
         
         
         // Separate script to update League Pass link on other pages based on localStorage
         
         function updateLeaguePassLink() {
           const purchasedPlan = localStorage.getItem('purchasedPlan');
           const leaguePassLink = document.querySelector('.auth-link.league-pass');
           
           if (leaguePassLink) {
             if (purchasedPlan) {
               // Convert plan name to display format, e.g., "premium-plan" -> "Premium Plan"
               const displayName = purchasedPlan.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
               leaguePassLink.textContent = displayName;
             } else {
               leaguePassLink.textContent = "League Pass";
             }
           }
         }
         
         // Run on page load
         document.addEventListener('DOMContentLoaded', updateLeaguePassLink);
         
         // Optional: Listen for storage changes if needed (e.g., if subscription changes from another tab)
         window.addEventListener('storage', (event) => {
           if (event.key === 'purchasedPlan') {
             updateLeaguePassLink();
           }
         });
         
         const logoElement = document.querySelector('.logo');
             if (logoElement) {
                 logoElement.addEventListener('click', () => {
                     window.location.href = 'index.html';
                 });
             } else {
                 console.error("Element s klasom 'logo' nije pronađen.");
             }
         
             // Target the footer logo specifically
         const footerLogoElement = document.querySelector('.logo-footer .logo');
         if (footerLogoElement) {
             footerLogoElement.addEventListener('click', () => {
                 window.location.href = 'index.html';
             });
         } else {
             console.error("Element s klasom 'logo' unutar '.logo-footer' nije pronađen.");
         }
      </script>
      <footer class="footer">
         <div class="footer-line"></div>
         <!-- Footer links -->
         <div class="footer-links">
            <a href="#" data-policy="privacy-policy">Privacy Policy</a><span>|</span>
            <a href="#" data-policy="eea-uk">EEA/UK Privacy Statement</a><span>|</span>
            <a href="#" data-policy="brazil">Brazil Privacy Statement</a><span>|</span>
            <a href="#" data-policy="colorado">Colorado Consumer Privacy Statement</a><span>|</span>
            <a href="#" data-policy="california">California Consumer Privacy Statement</a><span>|</span>
            <a href="#" data-policy="terms">Terms of Use</a><span>|</span>
            <a href="#" data-policy="cookie">Cookie Policy</a><span>|</span>
            <a href="#" data-policy="accessibility">Accessibility and Closed Captions</a><span>|</span>
            <a href="#" data-policy="support">Customer Support</a><span>|</span>
            <a href="#" data-policy="preferences">Manage Preferences</a>
         </div>
         <!-- Popup za prikaz policy teksta -->
         <div class="popup-overlay" id="policy-popup" style="display: none;">
            <div class="popup-content">
               <span id="close-popup-x" class="close-x">✕</span>
               <h3 id="popup-title">Policy Title</h3>
               <div id="popup-text">Policy text will appear here.</div>
            </div>
         </div>
         <p class="accessibility-note">
            If you are having difficulty accessing any content on this website, please visit our Accessibility page.
         </p>
         <div class="footer-bottom">
            <div class="bottom-left">
               <p class="bottom-text">
                  © 2025 NBA Media Ventures, LLC. All rights reserved.<br>
                  NBA.com is part of Warner Media, LLC’s Turner Sports
               </p>
               <div class="footer-logo">
                  <img src="/icons/warner_media_logo.png" alt="Warner Media Logo">
               </div>
            </div>
            <div class="logo-footer">
               <img src="/icons/nba_logo.svg" alt="NBA Logo" class="logo">
            </div>
            <div class="social-media">
               <p class="social-text">Find us on social media</p>
               <div class="social-icons">
                  <a href="https://www.facebook.com/nba" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                  <a href="https://www.instagram.com/nba/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                  <a href="https://www.snapchat.com/@nba" target="_blank" aria-label="Snapchat"><i class="fab fa-snapchat-ghost"></i></a>
                  <a href="https://www.tiktok.com/@nba" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                  <a href="https://x.com/nba" target="_blank" aria-label="X"><i class="fab fa-x-twitter"></i></a>
                  <a href="https://www.youtube.com/@NBA" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                  <a href="https://www.twitch.tv/nba" target="_blank" aria-label="Twitch"><i class="fab fa-twitch"></i></a>
               </div>
            </div>
         </div>
      </footer>
   </body>
</html>
